import React, { createContext, useContext, useEffect, useState } from 'react';
import AsyncStorage from '@react-native-async-storage/async-storage';

const translations = {
  en: {
    common: {
      appName: 'QuizCraft',
      loading: 'Loading...',
      cancel: 'Cancel',
      save: 'Save',
      logout: 'Logout',
      create: 'Create',
      assign: 'Assign',
      language: 'Language',
      english: 'English',
      bangla: 'à¦¬à¦¾à¦‚à¦²à¦¾',
      error: 'Error',
      success: 'Success',
      confirm: 'Confirm',
      delete: 'Delete',
      edit: 'Edit',
      back: 'Back',
      next: 'Next',
      submit: 'Submit',
      close: 'Close',
      yes: 'Yes',
      no: 'No',
      ok: 'OK',
    },
    home: {
      hello: 'Hello',
      ready: 'Ready to learn something new?',
      created: 'Created',
      completed: 'Completed',
      rank: 'Rank',
      exploreQuizzes: 'Explore Quizzes',
      noQuizzesTitle: 'No quizzes yet',
      noQuizzesText: 'Create your first quiz!',
      createQuiz: '+ Create Quiz',
      questions: 'Questions',
      views: 'Views',
      difficultyMixed: 'Mixed',
      testYourKnowledge: 'Test your knowledge',
      general: 'General',
    },
    upload: {
      generateQuiz: 'Generate Quiz',
      aiPowered: 'AI-Powered Quiz Creation',
      fromText: 'From Text',
      fromFile: 'From File',
      numQuestions: 'Number of Questions',
      chooseFile: 'Choose File',
      uploadAndGenerate: 'ğŸš€ Generate Quiz',
      generate: 'ğŸš€ Generate Quiz',
      enter100: 'Please enter at least 100 characters',
      success: 'Success!',
      textInput: 'Text Input',
      fileUpload: 'File Upload',
      difficultyLevel: 'Difficulty Level',
      easy: 'Easy',
      medium: 'Medium',
      hard: 'Hard',
      enterTextPlaceholder: 'Enter your text here (min 100 characters)...',
      fileSelected: 'File Selected',
      selectFile: 'Select File',
      pdfExtracted: 'PDF document selected - text will be extracted for quiz generation',
      imageExtracted: 'Image selected - text will be extracted using OCR for quiz generation',
      textFileExtracted: 'Text file selected - content will be used for quiz generation',
      wordExtracted: 'Word document selected - text will be extracted for quiz generation',
      fileExtracted: 'File selected - will attempt to extract content for quiz generation',
      quizSettings: 'Quiz Settings',
      timeLimit: 'Time Limit',
      passingScore: 'Passing Score',
      placeholder: 'Paste or write content here (minimum 100 characters)',
    },
    profile: {
      role: 'Role',
      logout: 'Logout',
      language: 'Language',
      teacherDashboard: 'Teacher Dashboard',
      adminDashboard: 'Admin Dashboard',
      appearance: 'Appearance',
      darkMode: 'Dark Mode',
      subscriptionAndBilling: 'Subscription & Billing',
      subscriptionPlans: 'Subscription Plans',
      manageSubscription: 'Manage your subscription',
      upgradeToPremium: 'Upgrade to premium',
      paymentHistory: 'Payment History',
      viewPayments: 'View your payments and invoices',
      roleFeatures: 'Role Features',
      manageClasses: 'Manage your classes and students',
      manageSystem: 'Manage users, quizzes, and system settings',
      joinClasses: 'Join Classes',
      joinWithCode: 'Join teacher classes with codes',
      becomeTeacher: 'Become a Teacher',
      requestUpgrade: 'Request upgrade to teacher account',
      accountSettings: 'Account & Settings',
      quizHistory: 'Quiz History',
      viewAttempts: 'View all your quiz attempts',
      myStatistics: 'My Statistics',
      viewAnalytics: 'View your performance analytics',
      myQuizzes: 'My Quizzes',
      manageQuizzes: 'View and manage your created quizzes',
      confirmLogout: 'Confirm Logout',
      areYouSure: 'Are you sure you want to logout?',
      requestRoleUpgrade: 'Request Role Upgrade',
      requestUpgradeMessage: 'Would you like to request an upgrade to {role} role? This will require admin approval.',
      requestSubmitted: 'Request Submitted',
      upgradeRequestSubmitted: 'Your {role} role upgrade request has been submitted. An admin will review it shortly.',
      failedToSubmit: 'Failed to submit role upgrade request',
      upgradeLabel: 'Upgrade',
      adminLabel: 'Admin',
      teacherLabel: 'Teacher',
      lightDark: 'Light/Dark',
    },
    teacher: {
      myClasses: 'My Classes',
      createClass: 'Create Class',
      className: 'Class Name',
      joinCode: 'Join Code',
      create: 'Create',
      assignToClass: 'Assign to Class',
      joinClass: 'Join Class',
      classDetails: 'Class Details',
      students: 'Students',
      assignedQuizzes: 'Assigned Quizzes',
    },
    login: {
      title: 'Welcome Back',
      subtitle: 'Sign in to continue',
      email: 'Email',
      password: 'Password',
      signIn: 'Login',
      continueGuest: 'Continue as Guest',
      prompt: "Don't have an account?",
      signup: 'Sign Up',
      fullName: 'Full Name',
      confirmPassword: 'Confirm Password',
      joinToday: 'Join QuizCraft today',
      iAmA: 'I am a:',
      student: 'Student',
      teacher: 'Teacher',
      alreadyHaveAccount: 'Already have an account?',
      forgotPassword: 'Forgot your password?',
      emailNotVerified: 'Email Not Verified',
      verifyEmailMessage: 'Please verify your email before logging in. Tap OK to go to verification.',
      loginFailed: 'Login Failed',
      testCredentials: 'Test Credentials:',
      enterEmailPassword: 'Please enter email and password',
      guestAccessFailed: 'Guest access failed',
    },
    quiz: {
      start: 'Start Quiz',
      assign: 'Assign to Class',
      share: 'Share',
      category: 'Category',
      difficulty: 'Difficulty',
      questions: 'Questions',
      quizDetails: 'Quiz Details',
      results: 'Results',
      myQuizzes: 'My Quizzes',
      takeQuiz: 'Take Quiz',
    },
    subscription: {
      title: 'Subscription',
      current: 'Current',
      premium: 'Premium',
      institutional: 'Institutional',
      upgrade: 'Upgrade',
    },
    analytics: {
      history: 'History',
      stats: 'My Statistics',
      leaderboard: 'Leaderboard',
      score: 'Score',
      attempts: 'Attempts',
      avgScore: 'Average Score',
      passRate: 'Pass Rate',
      averageTime: 'Average Time',
    },
    admin: {
      users: 'Users',
      quizzes: 'Quizzes',
      activity: 'Activity',
      search: 'Search',
      role: 'Role',
      status: 'Status',
      page: 'Page',
      next: 'Next',
      prev: 'Prev',
      filter: 'Filter',
      name: 'Name',
      email: 'Email',
      createdAt: 'Created',
      public: 'Public',
      from: 'From',
      to: 'To',
      subscription: 'Subscription',
      isActive: 'Active',
      title: 'Title',
      dashboard: 'Admin Dashboard',
      userManagement: 'User Management',
      quizManagement: 'Quiz Management',
      paymentManagement: 'Payment Management',
      systemSettings: 'System Settings',
    },
  },
  bn: {
    common: {
      appName: 'à¦•à§à¦‡à¦œà¦•à§à¦°à¦¾à¦«à§à¦Ÿ',
      loading: 'à¦²à§‹à¦¡ à¦¹à¦šà§à¦›à§‡...',
      cancel: 'à¦¬à¦¾à¦¤à¦¿à¦²',
      save: 'à¦¸à¦‚à¦°à¦•à§à¦·à¦£',
      logout: 'à¦²à¦— à¦†à¦‰à¦Ÿ',
      create: 'à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      assign: 'à¦¬à¦°à¦¾à¦¦à§à¦¦ à¦¦à¦¿à¦¨',
      language: 'à¦­à¦¾à¦·à¦¾',
      english: 'English',
      bangla: 'à¦¬à¦¾à¦‚à¦²à¦¾',
      error: 'à¦¤à§à¦°à§à¦Ÿà¦¿',
      success: 'à¦¸à¦«à¦²',
      confirm: 'à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦•à¦°à§à¦¨',
      delete: 'à¦®à§à¦›à§à¦¨',
      edit: 'à¦¸à¦®à§à¦ªà¦¾à¦¦à¦¨à¦¾',
      back: 'à¦«à¦¿à¦°à§‡ à¦¯à¦¾à¦¨',
      next: 'à¦ªà¦°à¦¬à¦°à§à¦¤à§€',
      submit: 'à¦œà¦®à¦¾ à¦¦à¦¿à¦¨',
      close: 'à¦¬à¦¨à§à¦§ à¦•à¦°à§à¦¨',
      yes: 'à¦¹à§à¦¯à¦¾à¦',
      no: 'à¦¨à¦¾',
      ok: 'à¦ à¦¿à¦• à¦†à¦›à§‡',
    },
    home: {
      hello: 'à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®',
      ready: 'à¦¨à¦¤à§à¦¨ à¦•à¦¿à¦›à§ à¦¶à¦¿à¦–à¦¤à§‡ à¦ªà§à¦°à¦¸à§à¦¤à§à¦¤?',
      created: 'à¦¤à§ˆà¦°à¦¿',
      completed: 'à¦¸à¦®à§à¦ªà¦¨à§à¦¨',
      rank: 'à¦°â€à§à¦¯à¦¾à¦‚à¦•',
      exploreQuizzes: 'à¦•à§à¦‡à¦œà¦¸à¦®à§‚à¦¹ à¦¦à§‡à¦–à§à¦¨',
      noQuizzesTitle: 'à¦à¦–à¦¨à¦“ à¦•à§‹à¦¨ à¦•à§à¦‡à¦œ à¦¨à§‡à¦‡',
      noQuizzesText: 'à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§à¦°à¦¥à¦® à¦•à§à¦‡à¦œà¦Ÿà¦¿ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨!',
      createQuiz: '+ à¦•à§à¦‡à¦œ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      questions: 'à¦ªà§à¦°à¦¶à§à¦¨',
      views: 'à¦­à¦¿à¦‰',
      difficultyMixed: 'à¦®à¦¿à¦¶à§à¦°',
      testYourKnowledge: 'à¦†à¦ªà¦¨à¦¾à¦° à¦œà§à¦à¦¾à¦¨ à¦ªà¦°à§€à¦•à§à¦·à¦¾ à¦•à¦°à§à¦¨',
      general: 'à¦¸à¦¾à¦§à¦¾à¦°à¦£',
    },
    upload: {
      generateQuiz: 'à¦•à§à¦‡à¦œ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      aiPowered: 'à¦à¦†à¦‡ à¦¦à§à¦¬à¦¾à¦°à¦¾ à¦•à§à¦‡à¦œ à¦ªà§à¦°à¦¸à§à¦¤à§à¦¤',
      fromText: 'à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦¥à§‡à¦•à§‡',
      fromFile: 'à¦«à¦¾à¦‡à¦² à¦¥à§‡à¦•à§‡',
      numQuestions: 'à¦ªà§à¦°à¦¶à§à¦¨à§‡à¦° à¦¸à¦‚à¦–à§à¦¯à¦¾',
      chooseFile: 'à¦«à¦¾à¦‡à¦² à¦¬à¦¾à¦›à¦¾à¦‡ à¦•à¦°à§à¦¨',
      uploadAndGenerate: 'ğŸš€ à¦•à§à¦‡à¦œ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      generate: 'ğŸš€ à¦•à§à¦‡à¦œ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      enter100: 'à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦•à¦®à¦ªà¦•à§à¦·à§‡ à§§à§¦à§¦ à¦…à¦•à§à¦·à¦° à¦²à¦¿à¦–à§à¦¨',
      success: 'à¦¸à¦«à¦²!',
      textInput: 'à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦‡à¦¨à¦ªà§à¦Ÿ',
      fileUpload: 'à¦«à¦¾à¦‡à¦² à¦†à¦ªà¦²à§‹à¦¡',
      difficultyLevel: 'à¦•à¦ à¦¿à¦¨à¦¤à¦¾à¦° à¦¸à§à¦¤à¦°',
      easy: 'à¦¸à¦¹à¦œ',
      medium: 'à¦®à¦¾à¦§à§à¦¯à¦®',
      hard: 'à¦•à¦ à¦¿à¦¨',
      enterTextPlaceholder: 'à¦†à¦ªà¦¨à¦¾à¦° à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦à¦–à¦¾à¦¨à§‡ à¦²à¦¿à¦–à§à¦¨ (à¦¨à§à¦¯à§‚à¦¨à¦¤à¦® à§§à§¦à§¦ à¦…à¦•à§à¦·à¦°)...',
      fileSelected: 'à¦«à¦¾à¦‡à¦² à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤',
      selectFile: 'à¦«à¦¾à¦‡à¦² à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨',
      pdfExtracted: 'à¦ªà¦¿à¦¡à¦¿à¦à¦« à¦¡à¦•à§à¦®à§‡à¦¨à§à¦Ÿ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ - à¦•à§à¦‡à¦œ à¦¤à§ˆà¦°à¦¿à¦° à¦œà¦¨à§à¦¯ à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦¬à§‡à¦° à¦•à¦°à¦¾ à¦¹à¦¬à§‡',
      imageExtracted: 'à¦›à¦¬à¦¿ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ - à¦“à¦¸à¦¿à¦†à¦° à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§‡ à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦¬à§‡à¦° à¦•à¦°à¦¾ à¦¹à¦¬à§‡',
      textFileExtracted: 'à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦«à¦¾à¦‡à¦² à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ - à¦•à§à¦‡à¦œ à¦¤à§ˆà¦°à¦¿à¦° à¦œà¦¨à§à¦¯ à¦¬à¦¿à¦·à¦¯à¦¼à¦¬à¦¸à§à¦¤à§ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¾ à¦¹à¦¬à§‡',
      wordExtracted: 'à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦¡à¦•à§à¦®à§‡à¦¨à§à¦Ÿ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ - à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦¬à§‡à¦° à¦•à¦°à¦¾ à¦¹à¦¬à§‡',
      fileExtracted: 'à¦«à¦¾à¦‡à¦² à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¿à¦¤ - à¦¬à¦¿à¦·à¦¯à¦¼à¦¬à¦¸à§à¦¤à§ à¦¬à§‡à¦° à¦•à¦°à¦¾à¦° à¦šà§‡à¦·à§à¦Ÿà¦¾ à¦•à¦°à¦¾ à¦¹à¦¬à§‡',
      quizSettings: 'à¦•à§à¦‡à¦œ à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸',
      timeLimit: 'à¦¸à¦®à¦¯à¦¼ à¦¸à§€à¦®à¦¾',
      passingScore: 'à¦ªà¦¾à¦¸ à¦¨à¦®à§à¦¬à¦°',
      placeholder: 'à¦à¦–à¦¾à¦¨à§‡ à¦¬à¦¿à¦·à¦¯à¦¼à¦¬à¦¸à§à¦¤à§ à¦ªà§‡à¦¸à§à¦Ÿ à¦¬à¦¾ à¦²à¦¿à¦–à§à¦¨ (à¦¨à§à¦¯à§‚à¦¨à¦¤à¦® à§§à§¦à§¦ à¦…à¦•à§à¦·à¦°)',
    },
    profile: {
      role: 'à¦­à§‚à¦®à¦¿à¦•à¦¾',
      logout: 'à¦²à¦— à¦†à¦‰à¦Ÿ',
      language: 'à¦­à¦¾à¦·à¦¾',
      teacherDashboard: 'à¦¶à¦¿à¦•à§à¦·à¦• à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡',
      adminDashboard: 'à¦…à§à¦¯à¦¾à¦¡à¦®à¦¿à¦¨ à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡',
      appearance: 'à¦šà§‡à¦¹à¦¾à¦°à¦¾',
      darkMode: 'à¦¡à¦¾à¦°à§à¦• à¦®à§‹à¦¡',
      subscriptionAndBilling: 'à¦¸à¦¾à¦¬à¦¸à§à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨ à¦à¦¬à¦‚ à¦¬à¦¿à¦²à¦¿à¦‚',
      subscriptionPlans: 'à¦¸à¦¾à¦¬à¦¸à§à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨ à¦ªà§à¦²à§à¦¯à¦¾à¦¨',
      manageSubscription: 'à¦†à¦ªà¦¨à¦¾à¦° à¦¸à¦¾à¦¬à¦¸à§à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨ à¦ªà¦°à¦¿à¦šà¦¾à¦²à¦¨à¦¾ à¦•à¦°à§à¦¨',
      upgradeToPremium: 'à¦ªà§à¦°à¦¿à¦®à¦¿à¦¯à¦¼à¦¾à¦®à§‡ à¦†à¦ªà¦—à§à¦°à§‡à¦¡ à¦•à¦°à§à¦¨',
      paymentHistory: 'à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦‡à¦¤à¦¿à¦¹à¦¾à¦¸',
      viewPayments: 'à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦à¦¬à¦‚ à¦šà¦¾à¦²à¦¾à¦¨ à¦¦à§‡à¦–à§à¦¨',
      roleFeatures: 'à¦­à§‚à¦®à¦¿à¦•à¦¾à¦° à¦¬à§ˆà¦¶à¦¿à¦·à§à¦Ÿà§à¦¯',
      manageClasses: 'à¦†à¦ªà¦¨à¦¾à¦° à¦•à§à¦²à¦¾à¦¸ à¦à¦¬à¦‚ à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€ à¦ªà¦°à¦¿à¦šà¦¾à¦²à¦¨à¦¾ à¦•à¦°à§à¦¨',
      manageSystem: 'à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦•à¦¾à¦°à§€, à¦•à§à¦‡à¦œ à¦à¦¬à¦‚ à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸ à¦ªà¦°à¦¿à¦šà¦¾à¦²à¦¨à¦¾ à¦•à¦°à§à¦¨',
      joinClasses: 'à¦•à§à¦²à¦¾à¦¸à§‡ à¦¯à§‹à¦— à¦¦à¦¿à¦¨',
      joinWithCode: 'à¦•à§‹à¦¡ à¦¦à¦¿à¦¯à¦¼à§‡ à¦¶à¦¿à¦•à§à¦·à¦•à§‡à¦° à¦•à§à¦²à¦¾à¦¸à§‡ à¦¯à§‹à¦— à¦¦à¦¿à¦¨',
      becomeTeacher: 'à¦¶à¦¿à¦•à§à¦·à¦• à¦¹à¦¨',
      requestUpgrade: 'à¦¶à¦¿à¦•à§à¦·à¦• à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿà§‡ à¦†à¦ªà¦—à§à¦°à§‡à¦¡à§‡à¦° à¦…à¦¨à§à¦°à§‹à¦§ à¦•à¦°à§à¦¨',
      accountSettings: 'à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦à¦¬à¦‚ à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸',
      quizHistory: 'à¦•à§à¦‡à¦œ à¦‡à¦¤à¦¿à¦¹à¦¾à¦¸',
      viewAttempts: 'à¦†à¦ªà¦¨à¦¾à¦° à¦¸à¦•à¦² à¦•à§à¦‡à¦œ à¦ªà§à¦°à¦šà§‡à¦·à§à¦Ÿà¦¾ à¦¦à§‡à¦–à§à¦¨',
      myStatistics: 'à¦†à¦®à¦¾à¦° à¦ªà¦°à¦¿à¦¸à¦‚à¦–à§à¦¯à¦¾à¦¨',
      viewAnalytics: 'à¦†à¦ªà¦¨à¦¾à¦° à¦ªà¦¾à¦°à¦«à¦°à¦®à§à¦¯à¦¾à¦¨à§à¦¸ à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£ à¦¦à§‡à¦–à§à¦¨',
      myQuizzes: 'à¦†à¦®à¦¾à¦° à¦•à§à¦‡à¦œ',
      manageQuizzes: 'à¦†à¦ªà¦¨à¦¾à¦° à¦¤à§ˆà¦°à¦¿ à¦•à§à¦‡à¦œ à¦¦à§‡à¦–à§à¦¨ à¦à¦¬à¦‚ à¦ªà¦°à¦¿à¦šà¦¾à¦²à¦¨à¦¾ à¦•à¦°à§à¦¨',
      confirmLogout: 'à¦²à¦— à¦†à¦‰à¦Ÿ à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦•à¦°à§à¦¨',
      areYouSure: 'à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦¯à§‡ à¦²à¦— à¦†à¦‰à¦Ÿ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¨?',
      requestRoleUpgrade: 'à¦­à§‚à¦®à¦¿à¦•à¦¾ à¦†à¦ªà¦—à§à¦°à§‡à¦¡à§‡à¦° à¦…à¦¨à§à¦°à§‹à¦§',
      requestUpgradeMessage: 'à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ {role} à¦­à§‚à¦®à¦¿à¦•à¦¾à¦¯à¦¼ à¦†à¦ªà¦—à§à¦°à§‡à¦¡à§‡à¦° à¦…à¦¨à§à¦°à§‹à¦§ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¨? à¦à¦° à¦œà¦¨à§à¦¯ à¦…à§à¦¯à¦¾à¦¡à¦®à¦¿à¦¨à§‡à¦° à¦…à¦¨à§à¦®à§‹à¦¦à¦¨ à¦ªà§à¦°à¦¯à¦¼à§‹à¦œà¦¨à¥¤',
      requestSubmitted: 'à¦…à¦¨à§à¦°à§‹à¦§ à¦œà¦®à¦¾ à¦¦à§‡à¦“à¦¯à¦¼à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡',
      upgradeRequestSubmitted: 'à¦†à¦ªà¦¨à¦¾à¦° {role} à¦­à§‚à¦®à¦¿à¦•à¦¾ à¦†à¦ªà¦—à§à¦°à§‡à¦¡à§‡à¦° à¦…à¦¨à§à¦°à§‹à¦§ à¦œà¦®à¦¾ à¦¦à§‡à¦“à¦¯à¦¼à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡à¥¤ à¦à¦•à¦œà¦¨ à¦…à§à¦¯à¦¾à¦¡à¦®à¦¿à¦¨ à¦¶à§€à¦˜à§à¦°à¦‡ à¦à¦Ÿà¦¿ à¦ªà¦°à§à¦¯à¦¾à¦²à§‹à¦šà¦¨à¦¾ à¦•à¦°à¦¬à§‡à¦¨à¥¤',
      failedToSubmit: 'à¦­à§‚à¦®à¦¿à¦•à¦¾ à¦†à¦ªà¦—à§à¦°à§‡à¦¡à§‡à¦° à¦…à¦¨à§à¦°à§‹à¦§ à¦œà¦®à¦¾ à¦¦à¦¿à¦¤à§‡ à¦¬à§à¦¯à¦°à§à¦¥',
      upgradeLabel: 'à¦†à¦ªà¦—à§à¦°à§‡à¦¡',
      adminLabel: 'à¦…à§à¦¯à¦¾à¦¡à¦®à¦¿à¦¨',
      teacherLabel: 'à¦¶à¦¿à¦•à§à¦·à¦•',
      lightDark: 'à¦²à¦¾à¦‡à¦Ÿ/à¦¡à¦¾à¦°à§à¦•',
    },
    teacher: {
      myClasses: 'à¦†à¦®à¦¾à¦° à¦•à§à¦²à¦¾à¦¸à¦¸à¦®à§‚à¦¹',
      createClass: 'à¦•à§à¦²à¦¾à¦¸ à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      className: 'à¦•à§à¦²à¦¾à¦¸à§‡à¦° à¦¨à¦¾à¦®',
      joinCode: 'à¦œà¦¯à¦¼à§‡à¦¨ à¦•à§‹à¦¡',
      create: 'à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨',
      assignToClass: 'à¦•à§à¦²à¦¾à¦¸à§‡ à¦¬à¦°à¦¾à¦¦à§à¦¦ à¦¦à¦¿à¦¨',
      joinClass: 'à¦•à§à¦²à¦¾à¦¸à§‡ à¦¯à§‹à¦— à¦¦à¦¿à¦¨',
      classDetails: 'à¦•à§à¦²à¦¾à¦¸à§‡à¦° à¦¬à¦¿à¦¬à¦°à¦£',
      students: 'à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€à¦°à¦¾',
      assignedQuizzes: 'à¦¬à¦°à¦¾à¦¦à§à¦¦à¦•à§ƒà¦¤ à¦•à§à¦‡à¦œ',
    },
    login: {
      title: 'à¦ªà§à¦¨à¦°à¦¾à¦¯à¦¼ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®',
      subtitle: 'à¦šà¦¾à¦²à¦¿à¦¯à¦¼à§‡ à¦¯à§‡à¦¤à§‡ à¦¸à¦¾à¦‡à¦¨ à¦‡à¦¨ à¦•à¦°à§à¦¨',
      email: 'à¦‡à¦®à§‡à¦‡à¦²',
      password: 'à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡',
      signIn: 'à¦²à¦—à¦‡à¦¨',
      continueGuest: 'à¦—à§‡à¦¸à§à¦Ÿ à¦¹à¦¿à¦¸à§‡à¦¬à§‡ à¦šà¦¾à¦²à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦¨',
      prompt: 'à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¨à§‡à¦‡? ',
      signup: 'à¦¸à¦¾à¦‡à¦¨ à¦†à¦ª',
      fullName: 'à¦ªà§‚à¦°à§à¦£ à¦¨à¦¾à¦®',
      confirmPassword: 'à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦•à¦°à§à¦¨',
      joinToday: 'à¦†à¦œà¦‡ à¦•à§à¦‡à¦œà¦•à§à¦°à¦¾à¦«à§à¦Ÿà§‡ à¦¯à§‹à¦— à¦¦à¦¿à¦¨',
      iAmA: 'à¦†à¦®à¦¿ à¦à¦•à¦œà¦¨:',
      student: 'à¦›à¦¾à¦¤à§à¦°/à¦›à¦¾à¦¤à§à¦°à§€',
      teacher: 'à¦¶à¦¿à¦•à§à¦·à¦•',
      alreadyHaveAccount: 'à¦‡à¦¤à¦¿à¦®à¦§à§à¦¯à§‡ à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦†à¦›à§‡?',
      forgotPassword: 'à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦­à§à¦²à§‡ à¦—à§‡à¦›à§‡à¦¨?',
      emailNotVerified: 'à¦‡à¦®à§‡à¦‡à¦² à¦¯à¦¾à¦šà¦¾à¦‡ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à¦¨à¦¿',
      verifyEmailMessage: 'à¦²à¦—à¦‡à¦¨ à¦•à¦°à¦¾à¦° à¦†à¦—à§‡ à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦‡à¦®à§‡à¦‡à¦² à¦¯à¦¾à¦šà¦¾à¦‡ à¦•à¦°à§à¦¨à¥¤ à¦¯à¦¾à¦šà¦¾à¦‡à¦•à¦°à¦£à§‡ à¦¯à§‡à¦¤à§‡ OK à¦šà¦¾à¦ªà§à¦¨à¥¤',
      loginFailed: 'à¦²à¦—à¦‡à¦¨ à¦¬à§à¦¯à¦°à§à¦¥ à¦¹à¦¯à¦¼à§‡à¦›à§‡',
      testCredentials: 'à¦Ÿà§‡à¦¸à§à¦Ÿ à¦¶à¦‚à¦¸à¦¾à¦ªà¦¤à§à¦°:',
      enterEmailPassword: 'à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦‡à¦®à§‡à¦‡à¦² à¦à¦¬à¦‚ à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦²à¦¿à¦–à§à¦¨',
      guestAccessFailed: 'à¦—à§‡à¦¸à§à¦Ÿ à¦…à§à¦¯à¦¾à¦•à§à¦¸à§‡à¦¸ à¦¬à§à¦¯à¦°à§à¦¥ à¦¹à¦¯à¦¼à§‡à¦›à§‡',
    },
    quiz: {
      start: 'à¦•à§à¦‡à¦œ à¦¶à§à¦°à§ à¦•à¦°à§à¦¨',
      assign: 'à¦•à§à¦²à¦¾à¦¸à§‡ à¦¬à¦°à¦¾à¦¦à§à¦¦ à¦¦à¦¿à¦¨',
      share: 'à¦¶à§‡à¦¯à¦¼à¦¾à¦°',
      category: 'à¦¬à¦¿à¦­à¦¾à¦—',
      difficulty: 'à¦•à¦ à¦¿à¦¨à¦¤à¦¾',
      questions: 'à¦ªà§à¦°à¦¶à§à¦¨',
      quizDetails: 'à¦•à§à¦‡à¦œ à¦¬à¦¿à¦¬à¦°à¦£',
      results: 'à¦«à¦²à¦¾à¦«à¦²',
      myQuizzes: 'à¦†à¦®à¦¾à¦° à¦•à§à¦‡à¦œ',
      takeQuiz: 'à¦•à§à¦‡à¦œ à¦¨à¦¿à¦¨',
    },
    subscription: {
      title: 'à¦¸à¦¾à¦¬à¦¸à§à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨',
      current: 'à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨',
      premium: 'à¦ªà§à¦°à¦¿à¦®à¦¿à¦¯à¦¼à¦¾à¦®',
      institutional: 'à¦‡à¦¨à¦¸à§à¦Ÿà¦¿à¦Ÿà¦¿à¦‰à¦¶à¦¨à¦¾à¦²',
      upgrade: 'à¦†à¦ªà¦—à§à¦°à§‡à¦¡',
    },
    analytics: {
      history: 'à¦‡à¦¤à¦¿à¦¹à¦¾à¦¸',
      stats: 'à¦†à¦®à¦¾à¦° à¦ªà¦°à¦¿à¦¸à¦‚à¦–à§à¦¯à¦¾à¦¨',
      leaderboard: 'à¦²à¦¿à¦¡à¦¾à¦°à¦¬à§‹à¦°à§à¦¡',
      score: 'à¦¸à§à¦•à§‹à¦°',
      attempts: 'à¦šà§‡à¦·à§à¦Ÿà¦¾',
      avgScore: 'à¦—à¦¡à¦¼ à¦¸à§à¦•à§‹à¦°',
      passRate: 'à¦ªà¦¾à¦¸ à¦¹à¦¾à¦°',
      averageTime: 'à¦—à¦¡à¦¼ à¦¸à¦®à¦¯à¦¼',
    },
    admin: {
      users: 'à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦•à¦¾à¦°à§€à¦°à¦¾',
      quizzes: 'à¦•à§à¦‡à¦œà¦¸à¦®à§‚à¦¹',
      activity: 'à¦¸à¦•à§à¦°à¦¿à¦¯à¦¼à¦¤à¦¾',
      search: 'à¦–à§‹à¦à¦œ',
      role: 'à¦­à§‚à¦®à¦¿à¦•à¦¾',
      status: 'à¦…à¦¬à¦¸à§à¦¥à¦¾',
      page: 'à¦ªà§ƒà¦·à§à¦ à¦¾',
      next: 'à¦ªà¦°à¦¬à¦°à§à¦¤à§€',
      prev: 'à¦ªà§‚à¦°à§à¦¬à¦¬à¦°à§à¦¤à§€',
      filter: 'à¦«à¦¿à¦²à§à¦Ÿà¦¾à¦°',
      name: 'à¦¨à¦¾à¦®',
      email: 'à¦‡à¦®à§‡à¦‡à¦²',
      createdAt: 'à¦¤à§ˆà¦°à¦¿à¦° à¦¤à¦¾à¦°à¦¿à¦–',
      public: 'à¦ªà¦¾à¦¬à¦²à¦¿à¦•',
      from: 'à¦¶à§à¦°à§',
      to: 'à¦¶à§‡à¦·',
      subscription: 'à¦¸à¦¾à¦¬à¦¸à§à¦•à§à¦°à¦¿à¦ªà¦¶à¦¨',
      isActive: 'à¦¸à¦•à§à¦°à¦¿à¦¯à¦¼',
      title: 'à¦¶à¦¿à¦°à§‹à¦¨à¦¾à¦®',
      dashboard: 'à¦…à§à¦¯à¦¾à¦¡à¦®à¦¿à¦¨ à¦¡à§à¦¯à¦¾à¦¶à¦¬à§‹à¦°à§à¦¡',
      userManagement: 'à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦°à¦•à¦¾à¦°à§€ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾',
      quizManagement: 'à¦•à§à¦‡à¦œ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾',
      paymentManagement: 'à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾',
      systemSettings: 'à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸',
    },
  }
};

const I18nContext = createContext({ t: (k)=>k, lang: 'en', setLang: ()=>{} });
export const useI18n = () => useContext(I18nContext);

export const I18nProvider = ({ children }) => {
  const [lang, setLangState] = useState('en');

  useEffect(() => {
    (async () => {
      const saved = await AsyncStorage.getItem('lang');
      if (saved) setLangState(saved);
    })();
  }, []);

  const setLang = async (l) => {
    setLangState(l);
    await AsyncStorage.setItem('lang', l);
  };

  const t = (key) => {
    const [ns, k] = key.includes(':') ? key.split(':') : ['common', key];
    return translations[lang]?.[ns]?.[k] || translations.en?.[ns]?.[k] || key;
  };

  return (
    <I18nContext.Provider value={{ t, lang, setLang }}>
      {children}
    </I18nContext.Provider>
  );
};
